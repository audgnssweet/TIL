## Spring IOC (제어의 역전) 과 DI (의존성 주입)

    우선 결론부터 정리하자.
    IOC와 DI를 따로 이해하려고 하지 말자. IOC와 DI는 세트다. Spring이 IOC를 통해 DI를 하는 것이기 때문이다.
    
    IOC와 DI가 필요해진 배경은 이렇다.
    소프트웨어는 변화가 불가피하다. 요구사항은 시시때때로 변하기 때문이다.
    요구사항이 추가/변경 될 때마다 코드가 변경된다. 그런데 코드의 변경은 비용이다.
    많은 코드가 변경될수록 많은 비용이 든다.
    그래서 요구사항 변경시에도 코드가 최대한 변하지 않도록 프로그래밍 하는 것이 중요하다.

    어떻게 해야 소스코드의 변경을 최소화 할 수 있을까?
    스프링은 IOC와 DI로 그 해답을 찾았다.

    소프트웨어는 커지고, 의존관계의 복잡도는 올라간다.
    하나의 클래스를 수정해도, 해당 클래스에 의존하는 많은 클래스들이 선택과 생성의 책임을 갖기 때문에
    많은 코드가 수정된다.

    아래 예시를 먼저보고, IOC와 DI를 이해하자.

### 예시

#### 1단계 초기

### IOC

    스프링 프레임워크를 사용해서 개발하면 개발자가 핵심객체의 생명주기를 직접 관리할 일이 없다.
    일반적인 POJO는 new 로 생성하여 관리하는데 비해 Spring framework를 이용하면
    객체가 Spring Container 안에 Singleton pattern으로 관리된다. 이를 Spring Bean 이라고 한다.

    객체의 생명주기 제어에 대한 권한이 개발자에서 Spring framework로 넘어갔음을 Spring IOC, 제어의 역전이라고 한다.

### DI

    IOC 로 인해 Spring Container에서 관리되는 Bean들을 적재 적소에서 사용할 수 있도록 제공하는 방법을 DI, 의존성 주입 이라고 한다.
    해당 객체가 필요한 시점에 Spring에서 singleton으로 관리되는 해당 객체를 주입하여 사용할 수 있도록 한다.

    말로만 하면 잘 이해가 안될 것이다.

    일단 IOC & DI 를 이해하려면 의존을 이해해야 한다.

![image](https://user-images.githubusercontent.com/19279163/134355617-42e0d8e9-a6df-450e-9633-8c6a368d1f40.png)

    A가 B에게 의존한다는 것은, 
    B의 로직에 A 가 영향을 받는다는 말이고, A는 자신 뿐 아니라 B의 구현에 대한 책임도 갖는다.

    즉 아래와 같은 경우이다.