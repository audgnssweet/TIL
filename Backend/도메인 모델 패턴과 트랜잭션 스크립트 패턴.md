## 도메인 모델 패턴과 트랜잭션 스크립트 패턴

---

#### 트랜잭션 스크립트 패턴

    트랜잭션 스크립트 패턴이란, MVC 모델에서, 트랜잭션이 걸려있는 Service 계층에서
    모든 로직을 전부 처리하는 것을 의미한다.

    보통 프로그래밍을 처음 접한다면 이 방식이 더 직관적이기에 선택하게될 가능성이 높다.

    트랜잭션이 걸려있는 서비스 계층에서 모든 로직을 처리하기 때문에, 서비스 코드가 매우 길어진다.
    또한 비슷한 로직이 있어도 재사용이 힘들다. 복사 붙여넣기 식의 코딩을 하게될 가능성이 있다.

    그러나 코드가 직관적이고, 흐름이 눈에 보이기 때문에 코딩의 난이도가 쉬운 편이다.

#### 도메인 모델 패턴

    핵심 서비스 로직을 도메인 계층으로 넘겨버린다. JPA로 치면, Entity에 핵심 비즈니스 로직을 두고
    서비스 계층에서는 이를 호출하는 식으로 구성한다.

    책임을 서비스 계층과 도메인 계층으로 나눔으로써 관심사를 분리하여 유지보수가 쉬운 코드를 만들 수 있다.
    또한 설계 자체가 객체 지향적이기 때문에 재사용성, 확장성이 뛰어나다.

    그럼에도 서비스에서 어쩔수 없이 담당해야하는 부분이 있다.
    Repository 계층을 통해 Entity를 조회하는 역할이라던지
    엔티티를 만들어 영속화한다던지. 도메인 계층에서는 해결할 수 없는 문제들이 그것이다.

    단점은 설계 난이도가 트랜잭션 스크립트 패턴에 비해서 굉장히 올라간다는 점이다.

---

#### 무엇을 사용해아 하나?

    무엇이 더 좋다는 정답은 없다. 어떤 상황에는 트랜잭션 스크립트가, 어떤 상황에는 도메인 모델이 적합할 수 있다.

    하지만 지금까지 트랜잭션 스크립트 형식으로만 코드를 작성했다면, 도메인 모델 패턴으로 도전해보는 것도 좋을 것 같다.
