## JPA와 생성 메서드

    JPA를 이용해서 Backend 개발을 한다면
    서비스 로직에서 new 연산자를 이용한 객체생성을 많이 해보았을 것이다.

    물론 엔티티를 영속화 시키기 위해 서비스로직에서 new 연산자를 호출하는 것은 필수적인 일이지만
    생성 과정이 매우 복잡한 경우, 한가지 엔티티를 생성하는 로직만 넣어도
    서비스 코드가 비대해지고 가독성이 떨어질 수 있다.

    이럴때 정적 팩토리 메서드 패턴과 결합시키면
    도메인으로의 책임 분리로 객체 지향적 설계를 이룰 수 있을 뿐 아니라
    
    서비스로직이 간결해지고 가독성을 올릴 수 있다.

#### 예제

    쇼핑몰을 만드는데, 상품이 주문되면 재고가 떨어진다.
    즉, 주문 Entity가 생성됨과 동시에 상품의 재고가 감소하는 로직이 있다면
    주문 생성과 상품의 재고는 밀접한 관련이 있다.
    
    이를 정적 팩토리 메서드 패턴으로 단순화한다면

```java
    public static OrderItem createOrderItem(Item item, int orderPrice, int count) {
        OrderItem orderItem = new OrderItem(item, orderPrice, count);
        item.removeStock(count);
        return orderItem;
    }
```

    위와 같을 수 있다. 주문 객체가 생성됨과 동시에 상품의 재고는 떨어지는 로직을
    정적 팩토리 메서드 패턴으로 묶어 책임분산할 수 있는 것이다.

    또한 받는 인자가 너무 많다면, 정적 팩토리 안에서 Builder를 사용하는 것도 괜찮은 선택이다.

#### 주의점

    정적 팩토리 메서드 패턴도 결국은 기존의 new 연산자에서 코드를 한번 더 들어가서 확인하도록 만드는 것이기 때문에
    객체 생성과정이 단순한 경우에는 오히려 이런 패턴을 사용하는 것이 복잡도를 올리는 길이 될수도 있다.

    뭐든 간결하고 명확한 것이 좋으니, new 연산자로 먼저 사용해보고 책임이 많다 싶으면 분리하는 방향을 선택하자.

    또한 new 연산자는 객체 생성만을 담당하는 연산자이니,
    정의하면서 그 안에 비즈니스 로직을 넣는다던지 하는 행위는 지양하는 것이 좋다.