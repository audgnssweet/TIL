## JPA의 새로운 엔티티 판별전략

    Spring data JPA 를 사용해보면 알겠지만 Entity를 영속화할때 save() 메서드를 호출한다.
    해당 메서드 안으로 들어가보면, 엔티티에 대해서 isNew라는 메서드를 호출하는데, 한번도 영속화가 된 적 없는
    새로운 엔티티라면 바로 영속화하고, 아니라면 해당 엔티티를 불러와 merge() 메서드를 호출한다.

    그렇다면 isNew() 메서드의 기본 전략은 무엇일까
    
    우선 판단 기준은 엔티티의 @Id Column이다.

    @Id Column이
    1. primitive type인 경우
    0이라면 새로운 객체라 판단한다.
    2. reference type인 경우
    null이라면 새로운 객체라 판단한다.

---

    그래서 GeneratedValue Option을 사용하면, 영속화하기 전에는 ID Column을 비워두므로
    0이나 null이라고 판단하여 엔티티를 조회하지 않고 바로 영속화하는 것이고

    그렇지 않고 임의의 ID를 사용한다면, (isNew를 새로 정의해주지 않는 이상) 무조건 DB에 조회쿼리를
    한번 치고 영속화한다. 즉 비효율적이다. 

    이 문제는 임의의 ID 및 파티셔닝과도 이어진다.